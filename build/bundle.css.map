{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\Game.svelte",
    "..\\Score.svelte",
    "..\\Board.svelte",
    "..\\Energy.svelte",
    "..\\Card.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Board from \"./Board.svelte\";\n  import Energy from \"./Energy.svelte\";\n  import Score from \"./Score.svelte\";\n\n  const handleFullscreenSwitch = () => {\n    const { documentElement, fullscreen } = document;\n    if (fullscreen) {\n      document.exitFullscreen();\n    } else {\n      documentElement.requestFullscreen();\n    }\n  };\n</script>\n\n<style>\n  .game {\n    background-color: dimgray;\n    box-shadow: 0 0 25vh 5vh black;\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    justify-content: space-around;\n    margin: auto;\n    position: relative;\n    width: var(--game-width);\n  }\n  .digifall {\n    background-color: white;\n    flex-basis: var(--card-size);\n  }\n</style>\n\n<div class=\"game\">\n  <button class=\"digifall\" on:click={handleFullscreenSwitch}>Digifall</button>\n  <Score />\n  <Board />\n  <Energy />\n</div>\n",
    "<script>\n  import { score } from \"./stores.js\";\n</script>\n\n<style>\n  .score {\n    font-size: var(--pixel-7);\n    line-height: 1;\n    text-align: right;\n  }\n</style>\n\n<span class=\"score\">{$score}</span>\n",
    "<script>\n  import { cards, energy, phase } from \"./stores.js\";\n  import {\n    getCardsFallen,\n    getCardsMatched,\n    getCardsPlusOne,\n    getMatchedIndexes\n  } from \"./utils.js\";\n  import Card from \"./Card.svelte\";\n\n  let plusIndex;\n  let matchedIndexes = [];\n\n  phase.subscribe(value => {\n    switch (value) {\n      case \"plus\":\n        cards.set(getCardsPlusOne($cards, plusIndex));\n        phase.set(\"blink\");\n        break;\n      case \"blink\":\n        plusIndex = undefined;\n        matchedIndexes = getMatchedIndexes($cards);\n        if (matchedIndexes.length) {\n          window.setTimeout(() => phase.set(\"match\"), 400);\n        } else if ($energy < 10) {\n          phase.set(\"gameover\");\n        } else {\n          phase.set(\"input\");\n        }\n        break;\n      case \"match\":\n        const energyDiff = matchedIndexes.reduce(\n          (result, value) => result + $cards[value].value,\n          0\n        );\n        energy.set($energy + energyDiff);\n        cards.set(getCardsMatched($cards, matchedIndexes));\n        matchedIndexes = [];\n        window.setTimeout(() => phase.set(\"fall\"), 600);\n        break;\n      case \"fall\":\n        cards.set(getCardsFallen($cards));\n        window.setTimeout(() => phase.set(\"blink\"), 400);\n        break;\n      case \"gameover\":\n        alert(\"GAME OVER\");\n    }\n  });\n\n  const getTargetDataIndex = ({ dataset, parentNode }) => {\n    if (dataset && dataset.index) return dataset.index;\n    if (parentNode) return getTargetDataIndex(parentNode);\n  };\n\n  const handleBoardClick = ({ target }) => {\n    if ($phase !== \"input\" || plusIndex) return;\n    plusIndex = Number(getTargetDataIndex(target));\n    if (typeof plusIndex === \"number\") {\n      energy.set($energy - 10);\n      window.setTimeout(() => phase.set(\"plus\"), 400);\n    }\n  };\n</script>\n\n<style>\n  .board {\n    background: dimgray\n      url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\" fill-opacity=\"0.5\"><rect x=\"4\" width=\"4\" height=\"4\" /><rect y=\"4\" width=\"4\" height=\"4\" /></svg>');\n    background-size: var(--pixel-4) var(--pixel-4);\n    border: var(--pixel) solid white;\n    box-sizing: border-box;\n    height: var(--game-width);\n    overflow: hidden;\n    position: relative;\n    width: var(--game-width);\n  }\n</style>\n\n<div class=\"board\" on:click={handleBoardClick}>\n  {#each $cards as card, index}\n    <Card\n      phase={$phase}\n      plused={plusIndex === index}\n      matched={matchedIndexes.includes(index)}\n      {...card}\n      {index} />\n  {/each}\n</div>\n",
    "<script>\n  import { energy } from \"./stores.js\";\n\n  const getBarWidth = value => {\n    if (value > 100) return 100;\n    if (value < 0) return 0;\n    return value;\n  };\n</script>\n\n<style>\n  .energy {\n    background-color: darkslategray;\n    flex-basis: var(--pixel-9);\n    overflow: hidden;\n  }\n  .bar {\n    align-items: center;\n    background-color: white;\n    display: flex;\n    height: 100%;\n    justify-content: flex-end;\n    transition: width 200ms ease-in;\n  }\n  .value {\n    font-size: var(--pixel-7);\n    line-height: 1;\n  }\n</style>\n\n<div class=\"energy\">\n  <div class=\"bar\" style={`width: ${getBarWidth($energy)}%`}>\n    <span class=\"value\">{$energy}</span>\n  </div>\n</div>\n",
    "<script>\n  export let index,\n    phase,\n    plused,\n    matched,\n    duration,\n    value,\n    x = 0,\n    y = 0;\n\n  $: nextValue = value < 9 ? value + 1 : 0;\n\n  $: style = `\n    transition-duration: ${phase === \"fall\" ? duration : 0}ms;\n    left: calc(${x} * var(--card-size));\n    bottom: calc(${y} * var(--card-size));\n  `;\n</script>\n\n<style>\n  .card {\n    box-shadow: var(--shadow-2);\n    height: var(--card-size);\n    position: absolute;\n    transition-property: bottom;\n    transition-timing-function: cubic-bezier(0.56, 0, 1, 1);\n    width: var(--card-size);\n  }\n  .card:hover {\n    box-shadow: var(--shadow-1);\n    cursor: pointer;\n    z-index: 2;\n  }\n  .current,\n  .next {\n    backface-visibility: hidden;\n    background-color: var(--color);\n    color: white;\n    font-size: var(--pixel-10);\n    height: var(--card-size);\n    line-height: var(--card-size);\n    position: absolute;\n    text-align: center;\n    width: var(--card-size);\n    z-index: 1;\n  }\n  .next {\n    transform: rotateY(-180deg);\n  }\n  .plused {\n    box-shadow: var(--shadow-1);\n    perspective: var(--game-width);\n    z-index: 2;\n  }\n  .plused .value {\n    transform-style: preserve-3d;\n    transform: rotateY(-180deg);\n    transition: transform 400ms ease;\n  }\n  .matched .current {\n    animation: blink 100ms infinite;\n  }\n  .value0 {\n    --color: gray;\n  }\n  .value1 {\n    --color: lawngreen;\n  }\n  .value2 {\n    --color: gold;\n  }\n  .value3 {\n    --color: darkorange;\n  }\n  .value4 {\n    --color: crimson;\n  }\n  .value5 {\n    --color: fuchsia;\n  }\n  .value6 {\n    --color: blueviolet;\n  }\n  .value7 {\n    --color: dodgerblue;\n  }\n  .value8 {\n    --color: turquoise;\n  }\n  .value9 {\n    --color: mediumseagreen;\n  }\n  @keyframes blink {\n    from {\n      background-color: white;\n      color: var(--color);\n    }\n    to {\n      background-color: var(--color);\n      color: white;\n    }\n  }\n</style>\n\n<div class=\"card\" class:plused class:matched {style} data-index={index}>\n  <div class=\"value\">\n    <div class=\"current value{value}\">{value}</div>\n    <div class=\"next value{nextValue}\">{nextValue}</div>\n  </div>\n</div>\n"
  ],
  "names": [],
  "mappings": "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"
}