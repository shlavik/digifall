{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\App.svelte",
    "..\\Game.svelte",
    "..\\Board.svelte",
    "..\\Energy.svelte",
    "..\\Score.svelte",
    "..\\Card.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { phase, energy } from \"./stores.js\";\n  import Game from \"./Game.svelte\";\n\n  const shuffleArray = array => {\n    for (let i = array.length - 1; i > 0; --i) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  };\n\n  const getRandomColor = (lightness = 10) =>\n    `hsl(${Math.floor(Math.random() * 360)},100%,${lightness}%)`;\n\n  const getNewAppStyle = () => {\n    const [a, b, c, d] = shuffleArray([\n      7,\n      11,\n      13,\n      17,\n      19,\n      23,\n      29,\n      31,\n      37,\n      41,\n      43,\n      47,\n      53,\n      59,\n      61,\n      67,\n      71,\n      73,\n      79,\n      83,\n      89,\n      97\n    ]);\n    return `\n      background-color: ${getRandomColor()};\n      background-image:\n        linear-gradient(90deg, ${getRandomColor()} 50%, transparent 50%),\n        linear-gradient(90deg, ${getRandomColor()} 50%, transparent 50%),\n        linear-gradient(90deg, transparent 50%, ${getRandomColor()} 50%),\n        linear-gradient(90deg, transparent 50%, ${getRandomColor()} 50%);\n      background-position: center;\n      background-size:\n        calc(${a} * var(--pixel)),\n        calc(${b} * var(--pixel)),\n        calc(${c} * var(--pixel)),\n        calc(${d} * var(--pixel));\n  `;\n  };\n\n  let style = getNewAppStyle();\n\n  window.onresize = () => {\n    style =\n      window.innerHeight / window.innerWidth > 1.5\n        ? undefined\n        : getNewAppStyle();\n  };\n</script>\n\n<style>\n  .app {\n    overflow: hidden;\n  }\n</style>\n\n<svelte:window\n  on:keypress={({ key }) => {\n    if (key === '1') energy.set(10);\n    if (key === '0') energy.set(100);\n  }} />\n\n<div class=\"app\" {style}>\n  <span style=\"color: white; position: absolute\">{$phase}</span>\n  <Game />\n</div>\n",
    "<script>\r\n  import Board from \"./Board.svelte\";\r\n  import Energy from \"./Energy.svelte\";\r\n  import Score from \"./Score.svelte\";\r\n\r\n  const handleFullscreenSwitch = () => {\r\n    const { documentElement, fullscreen } = document;\r\n    if (fullscreen) {\r\n      document.exitFullscreen();\r\n    } else {\r\n      documentElement.requestFullscreen();\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .game {\r\n    background-color: hsl(60, 20%, 60%);\r\n    box-shadow: 0 0 10vh 5vh rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100vh;\r\n    justify-content: space-evenly;\r\n    margin: auto;\r\n    width: var(--game-width);\r\n  }\r\n  .digifall {\r\n    background-color: white;\r\n    flex-basis: calc(37 * var(--pixel));;\r\n  }\r\n</style>\r\n\r\n<div class=\"game\">\r\n  <button class=\"digifall\" on:click={handleFullscreenSwitch}>Digifall</button>\r\n  <Score />\r\n  <Board />\r\n  <Energy />\r\n</div>\r\n",
    "<script>\r\n  import { cards, energy, phase } from \"./stores.js\";\r\n  import {\r\n    getCardsFallen,\r\n    getCardsMatched,\r\n    getCardsPlusOne,\r\n    getMatchedIndexes\r\n  } from \"./utils.js\";\r\n  import Card from \"./Card.svelte\";\r\n\r\n  let plusIndex;\r\n  let matchedIndexes = [];\r\n\r\n  phase.subscribe(value => {\r\n    switch (value) {\r\n      case \"plus\":\r\n        cards.set(getCardsPlusOne($cards, plusIndex));\r\n        phase.set(\"blink\");\r\n        break;\r\n      case \"blink\":\r\n        plusIndex = undefined;\r\n        matchedIndexes = getMatchedIndexes($cards);\r\n        if (matchedIndexes.length) {\r\n          window.setTimeout(() => phase.set(\"match\"), 400);\r\n        } else if ($energy < 10) {\r\n          phase.set(\"gameover\");\r\n        } else {\r\n          if ($energy > 100) energy.set(100);\r\n          phase.set(\"input\");\r\n        }\r\n        break;\r\n      case \"match\":\r\n        const energyDiff = matchedIndexes.reduce(\r\n          (result, value) => result + $cards[value].value,\r\n          0\r\n        );\r\n        energy.set($energy + energyDiff);\r\n        cards.set(getCardsMatched($cards, matchedIndexes));\r\n        matchedIndexes = [];\r\n        window.setTimeout(() => phase.set(\"fall\"), 600);\r\n        break;\r\n      case \"fall\":\r\n        cards.set(getCardsFallen($cards));\r\n        window.setTimeout(() => phase.set(\"blink\"), 400);\r\n        break;\r\n      case \"gameover\":\r\n        alert(\"GAME OVER\");\r\n    }\r\n  });\r\n\r\n  const getTargetDataIndex = ({ dataset, parentNode }) => {\r\n    if (dataset && dataset.index) return dataset.index;\r\n    if (parentNode) return getTargetDataIndex(parentNode);\r\n  };\r\n\r\n  const handleBoardClick = ({ target }) => {\r\n    if ($phase !== \"input\" || plusIndex) return;\r\n    plusIndex = Number(getTargetDataIndex(target));\r\n    if (typeof plusIndex === \"number\") {\r\n      energy.set($energy - 10);\r\n      window.setTimeout(() => phase.set(\"plus\"), 400);\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .board {\r\n    background: hsl(60, 20%, 40%)\r\n      url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\" fill-opacity=\"0.5\"><rect x=\"4\" width=\"4\" height=\"4\" /><rect y=\"4\" width=\"4\" height=\"4\" /></svg>');\r\n    background-size: var(--pixel-3) var(--pixel-3);\r\n    border: var(--pixel) solid white;\r\n    box-sizing: border-box;\r\n    height: var(--game-width);\r\n    overflow: hidden;\r\n    position: relative;\r\n    width: var(--game-width);\r\n  }\r\n</style>\r\n\r\n<div class=\"board\" on:click={handleBoardClick}>\r\n  {#each $cards as card, index}\r\n    <Card\r\n      phase={$phase}\r\n      plused={plusIndex === index}\r\n      matched={matchedIndexes.includes(index)}\r\n      {...card}\r\n      {index} />\r\n  {/each}\r\n</div>\r\n",
    "<script>\r\n  import { energy } from \"./stores.js\";\r\n\r\n  const getBarWidth = value => {\r\n    if (value > 100) return 100;\r\n    if (value < 0) return 0;\r\n    return value;\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .energy {\r\n    background-color: hsl(60, 20%, 30%);\r\n    flex-basis: var(--pixel-9);\r\n    overflow: hidden;\r\n  }\r\n  .bar {\r\n    align-items: center;\r\n    background-color: white;\r\n    display: flex;\r\n    height: 100%;\r\n    justify-content: flex-end;\r\n    transition: width 200ms ease-in;\r\n  }\r\n  .value {\r\n    font-size: var(--pixel-7);\r\n    line-height: 1;\r\n  }\r\n</style>\r\n\r\n<div class=\"energy\">\r\n  <div class=\"bar\" style={`width: ${getBarWidth($energy)}%`}>\r\n    <span class=\"value\">{$energy}</span>\r\n  </div>\r\n</div>\r\n",
    "<script>\r\n  import { score } from \"./stores.js\";\r\n</script>\r\n\r\n<style>\r\n  .score {\r\n    color: white;\r\n    flex-basis: var(--pixel-14);\r\n    font-size: var(--pixel-14);\r\n    line-height: 1;\r\n    margin-right: var(--pixel-4);\r\n    text-align: right;\r\n  }\r\n</style>\r\n\r\n<span class=\"score\">{$score}</span>\r\n",
    "<script>\r\n  export let index,\r\n    phase,\r\n    plused,\r\n    matched,\r\n    duration,\r\n    value,\r\n    x = 0,\r\n    y = 0;\r\n\r\n  $: nextValue = value < 9 ? value + 1 : 0;\r\n\r\n  $: style = `\r\n    transition-duration: ${phase === \"fall\" ? duration : 0}ms;\r\n    left: calc(${x} * var(--pixel-21));\r\n    bottom: calc(${y} * var(--pixel-21));\r\n  `;\r\n</script>\r\n\r\n<style>\r\n  .card {\r\n    box-shadow: var(--shadow-2);\r\n    height: var(--pixel-21);\r\n    position: absolute;\r\n    transition-property: bottom;\r\n    transition-timing-function: cubic-bezier(0.56, 0, 1, 1);\r\n    width: var(--pixel-21);\r\n    will-change: bottom;\r\n  }\r\n  .current,\r\n  .next {\r\n    backface-visibility: hidden;\r\n    background-color: var(--color);\r\n    color: white;\r\n    font-size: var(--pixel-10);\r\n    height: var(--pixel-21);\r\n    line-height: var(--pixel-21);\r\n    position: absolute;\r\n    text-align: center;\r\n    width: var(--pixel-21);\r\n    z-index: 1;\r\n  }\r\n  .next {\r\n    transform: rotateY(-180deg);\r\n  }\r\n  .plused {\r\n    box-shadow: var(--shadow-1);\r\n    perspective: var(--game-width);\r\n    z-index: 2;\r\n  }\r\n  .plused .value {\r\n    transform-style: preserve-3d;\r\n    transform: rotateY(-180deg);\r\n    transition: transform 400ms ease;\r\n  }\r\n  .matched .current {\r\n    animation: blink 150ms steps(3, end) 2;\r\n  }\r\n  .value0 {\r\n    --color: hsl(60, 20%, 40%);\r\n  }\r\n  .value1 {\r\n    --color: hsl(90, 100%, 55%);\r\n  }\r\n  .value2 {\r\n    --color: hsl(48, 100%, 50%);\r\n  }\r\n  .value3 {\r\n    --color: hsl(32, 100%, 50%);\r\n  }\r\n  .value4 {\r\n    --color: hsl(4, 100%, 55%);\r\n  }\r\n  .value5 {\r\n    --color: hsl(334, 100%, 65%);\r\n  }\r\n  .value6 {\r\n    --color: hsl(296, 100%, 40%);\r\n  }\r\n  .value7 {\r\n    --color: hsl(248, 100%, 60%);\r\n  }\r\n  .value8 {\r\n    --color: hsl(206, 100%, 55%);\r\n  }\r\n  .value9 {\r\n    --color: hsl(164, 100%, 45%);\r\n  }\r\n  @media (min-aspect-ratio: 2/3) {\r\n    .card:hover {\r\n      box-shadow: var(--shadow-1);\r\n      cursor: pointer;\r\n      z-index: 2;\r\n    }\r\n  }\r\n  @keyframes blink {\r\n    from {\r\n      background-color: white;\r\n      color: var(--color);\r\n    }\r\n    to {\r\n      background-color: var(--color);\r\n      color: white;\r\n    }\r\n  }\r\n</style>\r\n\r\n<div class=\"card\" class:plused class:matched {style} data-index={index}>\r\n  <div class=\"value\">\r\n    <div class=\"current value{value}\">{value}</div>\r\n    <div class=\"next value{nextValue}\">{nextValue}</div>\r\n  </div>\r\n</div>\r\n"
  ],
  "names": [],
  "mappings": "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"
}